### minikube command
 - ``minikube start --driver=docker > /dev/null 2>&1 &``
 - ``minikube status``
 - ``minikube start --driver=docker``

### kubectle succssful
 - download docker into minikube 
 - minikube image load flask-book-app  
 - kubectl -f flask-pod.yaml --(pod)
 - kubectl -f flask-service.yaml --(service)
 - kubectl minikube service flask-service -- or
 - kubectl minikube service flask-service --url

 - NO yaml building
 - kubectl run mypod --image=flask-book-app --image-pull-policy=Never --port=5010
 - kubectl port-forward pod/mypod 5010:5010


### k8s kubctl command 

 - kubectl start 
 - kubectl apply -f flask-deployment.yaml
 - kubectl apply -f service.yaml

 - 
 - list all pods
 - kubectl get pods
 - kubectl scale deployment flask-app --replicas=0
 - kubectl describe pod

|***æ­¥é©Ÿ***|***	æŒ‡ä»¤ ***|
|----------|-----------|
|éƒ¨ç½² Flask æœå‹™|	kubectl apply -f flask-service.yaml|
|æª¢æŸ¥ Service æ˜¯å¦å•Ÿå‹•|	kubectl get services|
|æ¸¬è©¦ Flask æœå‹™ï¼ˆMinikubeï¼‰|	minikube service flask-service|
|æ¸¬è©¦ Flask æœå‹™ï¼ˆæ‰‹å‹•ï¼‰|	curl http://$(minikube ip):30080|
|æ¸¬è©¦ Flask æœå‹™ï¼ˆå…§éƒ¨ Podï¼‰|	kubectl exec -it <pod-name> -- curl http://flask-service:5000|
|åœæ­¢ Service	|kubectl delete service flask-service|
|è©³ç´°éŒ¯èª¤ log| kubectl describe pod <flask-app-pod-name>|
|è©³ç´°éŒ¯èª¤ log| kubectl logs <flask-app-pod-name>|
|ä¿®æ”¹service| kubectl edit service flask-service|


### summary
|***Command***|***Function***|
|-------------|--------------|
|kubectl get pods|List all Pods|
|kubectl get deployments|List all Deployments|
|kubectl get services|List all Services|
|kubectl get nodes|List all Kubenetes node|
|kubectl get namepspace | List all Namespaces| 


### DOCKER cmd

### 1.Difference Between docker run and docker start
|**Command**| **Description**|	**Use Case**|
|----------------|----------------|--------------|
|docker run	|Creates and starts a new container from an image. If the container doesnâ€™t exist, it builds one.	|Used when you need a new container instance.|
docker start|	Restarts an existing, stopped container. It does not create a new one.	|Used when you want to resume a previously stopped container.|

1. docker run - Create & Start a New Container
When you use docker run, it creates a new container from an image and starts it.
``docker run -d --name my_container nginx``
	â€¢	Creates a new container from the nginx image.
	â€¢	Assigns the name my_container.
	â€¢	Runs in detached mode (-d), meaning it runs in the background.

Key Characteristics of docker run

âœ… Always creates a new container.<br>
âœ… If the same container name already exists, it fails unless removed.<br>
âœ… If you exit the container, it stays unless --rm is used.<br>


### 2.docker start - Restart an Existing Container
  If you stopped a container, docker start restarts it without creating a new one.
  ``
   docker stop my_container   # Stop the container
   docker start my_container  # Start it again
  ``
The container must already exist (from a previous docker run).
	â€¢	Does not create a new instance.

Key Characteristics of docker start

âœ… Reuses an existing container.<br>
âœ… Does not create a new container.<br>
âœ… Keeps existing configurations, volumes, and data.<br>




#### 3.When to Use Which?
| **Scenario** |**Command to Use**|
|--------------|----------------------|
|Run a brand new container from an image|docker run|
|Restart a stopped container|	docker start|
|Run a temporary container (auto-delete)	|docker run --rm|
|Start a container with an interactive shell	|docker run -it ubuntu /bin/bash|
|Resume a stopped container without changes|	docker start|<container_name>

Example Workflow<br>
> 1. Run a new container:<br>
  >>  ``docker run -d --name my_flask_app -p 5000:5000 flask-app``
> 2.	Stop it:
  >> ``docker stop my_flask_app``
> 3. Restart it later:
  >> ``docker start my_flask_app``

4. Bonus: Starting with attach

If you want to restart a container and attach to it:
``docker start -ai my_container``
	â€¢	-a: Attach to the containerâ€™s output.
	â€¢	-i: Keep input open for interaction.

Summary
|**Feature**| **docker run**|**docker start**|
|------------|-------------|---------|
|Creates a new container|	âœ… Yes|	âŒ No|
|Starts an existing container|	âŒ No|	âœ… Yes|
|Assigns a new ID	|âœ… Yes|	âŒ No|
|Uses an existing container	|âŒ No	|âœ… Yes|
|Stops when the process ends|	âœ… Yes|	âœ… Yes|



docker inspect ç”¨æ³•
docker inspect 
docker inspect -f '{{.Config.Cmd}}' 

docker exec ç”¨æ³•
docker exec -it <container_id> /bin/bash


docker run 
docker run -d -p 5010:5010 flask-book-app flask run --host=0.0.0.0

docker ps
å¦‚æœé€™å€‹å‘½ä»¤æ²’æœ‰å ±éŒ¯ï¼Œé‚£éº¼ Docker æ‡‰è©²å·²ç¶“æ¢å¾©æ­£å¸¸ã€‚

docker 
docker run -d -p 5010:5010 flask-book-app

docker build -t flask-book-app .



--------------
MacOS æˆåŠŸé™¤éŒ¯èª¤

eval $(minikube docker-env)


ç¢ºä¿ Docker CLI å¯ä»¥æ­£å¸¸é€£æ¥
æœ‰æ™‚ DOCKER_HOST è®Šæ•¸æœƒå¹²æ“¾ Docker çš„é‹è¡Œï¼Œç¢ºä¿å®ƒæ²’æœ‰è¢«è¨­ç½®ï¼š

unset DOCKER_HOST
ç„¶å¾Œå†æ¬¡å˜—è©¦ï¼š

----------------------------------

å¦‚æœ macOS ä¸Šçš„ Docker å‡ºç¾ç•°å¸¸ï¼Œç„¡æ³•æ­£å¸¸é‹è¡Œï¼Œå¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥é©Ÿé€²è¡Œæ’æŸ¥èˆ‡ä¿®å¾©ï¼š

1. ç¢ºèª Docker æ˜¯å¦æ­£åœ¨é‹è¡Œ

æ‰“é–‹ Docker Desktopï¼ˆåœ¨ã€Œæ‡‰ç”¨ç¨‹å¼ã€ä¸­æœå°‹ã€ŒDockerã€ä¸¦å•Ÿå‹•ï¼‰ï¼Œç„¶å¾Œæª¢æŸ¥ ç‹€æ…‹æ¬„çš„ Docker åœ–ç¤ºï¼š

å¦‚æœ Docker æ²’æœ‰å•Ÿå‹• â†’ é»æ“Š Docker åœ–ç¤ºï¼Œç„¶å¾Œé»æ“Šã€ŒStartã€æŒ‰éˆ•ã€‚
å¦‚æœ Docker é¡¯ç¤ºéŒ¯èª¤ â†’ å˜—è©¦é—œé–‰ä¸¦é‡æ–°æ‰“é–‹ Dockerã€‚
ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨çµ‚ç«¯æ©Ÿå‘½ä»¤æª¢æŸ¥ Docker æ˜¯å¦æ­£åœ¨é‹è¡Œï¼š

docker info
å¦‚æœé¡¯ç¤ºé¡ä¼¼ Cannot connect to the Docker daemonï¼Œè¡¨ç¤º Docker daemon å¯èƒ½æœªé‹è¡Œã€‚

2. é‡æ–°å•Ÿå‹• Docker

å¦‚æœ Docker é‹è¡Œç•°å¸¸ï¼Œå˜—è©¦é‡æ–°å•Ÿå‹•å®ƒï¼š

osascript -e 'quit app "Docker"'
open /Applications/Docker.app
æˆ–è€…ç›´æ¥åœ¨ Docker Desktop çš„ GUI ç•Œé¢ä¸­é»æ“Š Restart æŒ‰éˆ•ã€‚

3. ç¢ºä¿ Docker CLI å¯ä»¥æ­£å¸¸é€£æ¥

   æœ‰æ™‚ DOCKER_HOST è®Šæ•¸æœƒå¹²æ“¾ Docker çš„é‹è¡Œï¼Œç¢ºä¿å®ƒæ²’æœ‰è¢«è¨­ç½®ï¼š

   unset DOCKER_HOST
   ç„¶å¾Œå†æ¬¡å˜—è©¦ï¼š

   docker ps
   å¦‚æœé€™å€‹å‘½ä»¤æ²’æœ‰å ±éŒ¯ï¼Œé‚£éº¼ Docker æ‡‰è©²å·²ç¶“æ¢å¾©æ­£å¸¸ã€‚

4. æª¢æŸ¥ macOS ä¸Šçš„ Docker æœå‹™ç‹€æ…‹

   macOS ä¸Šçš„ Docker ä¸ä½¿ç”¨ systemctl ä¾†ç®¡ç†ï¼Œè€Œæ˜¯ç”± macOS çš„ launchctl æ§åˆ¶ã€‚å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æª¢æŸ¥ Docker æœå‹™ç‹€æ…‹ï¼š

   ps aux | grep -i docker
   å¦‚æœ Docker é€²ç¨‹æ²’æœ‰é‹è¡Œï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ‰‹å‹•å•Ÿå‹•å®ƒï¼š

   open /Applications/Docker.app

5. é‡ç½® Docker è¨­å®š

   å¦‚æœ Docker ä»ç„¶ç„¡æ³•å•Ÿå‹•ï¼Œå¯èƒ½éœ€è¦é‡ç½® Docker è¨­å®šï¼š

   æ‰“é–‹ Docker Desktopã€‚
   é€²å…¥ Settingsï¼ˆè¨­å®šï¼‰ > Troubleshootï¼ˆç–‘é›£æ’è§£ï¼‰ã€‚
   é»æ“Š Reset to factory defaultsï¼ˆé‡ç½®ç‚ºå‡ºå» è¨­ç½®ï¼‰ã€‚
   âš  æ³¨æ„ï¼š é€™æœƒåˆªé™¤æ‰€æœ‰å®¹å™¨ã€æ˜ åƒå’Œ Docker è¨­å®šï¼Œè«‹è¬¹æ…ä½¿ç”¨ã€‚


6. æª¢æŸ¥ Docker å®‰è£å®Œæ•´æ€§

   å¦‚æœå•é¡Œä»ç„¶å­˜åœ¨ï¼Œå¯ä»¥å˜—è©¦é‡æ–°å®‰è£ Dockerï¼š

å®Œå…¨ç§»é™¤ Docker
rm -rf ~/Library/Application\ Support/Docker
rm -rf ~/Library/Caches/com.docker.docker
rm -rf ~/Library/Containers/com.docker.docker
rm -rf ~/Library/Preferences/com.docker.docker.plist
rm -rf ~/Library/Logs/Docker.log
ä¸‹è¼‰æœ€æ–°ç‰ˆæœ¬çš„ Docker Desktop
å‰å¾€ Docker å®˜æ–¹ç¶²ç«™ ä¸‹è¼‰æœ€æ–°ç‰ˆæœ¬çš„ Docker Desktop ä¸¦é‡æ–°å®‰è£ã€‚
7. ç¢ºä¿ macOS æ“æœ‰æ­£ç¢ºæ¬Šé™

Docker éœ€è¦ä¸€äº›ç³»çµ±æ¬Šé™ä¾†é‹è¡Œï¼Œç¢ºä¿ macOS æ²’æœ‰é˜»æ“‹å®ƒï¼š

å‰å¾€ ç³»çµ±è¨­å®š > å®‰å…¨æ€§èˆ‡éš±ç§ > é–‹ç™¼è€…å·¥å…·ï¼Œç¢ºä¿ Docker è¢«å…è¨±åŸ·è¡Œã€‚
å¦‚æœ Docker åœ¨ M1/M2 æ™¶ç‰‡ä¸Šå ±éŒ¯ï¼Œè«‹ç¢ºä¿å·²å®‰è£ Rosetta 2ï¼š
softwareupdate --install-rosetta
8. æª¢æŸ¥é˜²ç«ç‰†èˆ‡ç¶²çµ¡

æœ‰æ™‚å€™é˜²ç«ç‰†æˆ–ç¶²è·¯è¨­ç½®æœƒå½±éŸ¿ Dockerï¼š

å˜—è©¦ é—œé–‰ VPN æˆ– é—œé–‰ macOS é˜²ç«ç‰†
åœ¨ Docker Desktop > Settingsï¼ˆè¨­å®šï¼‰ ä¸­ åˆ‡æ› network modeï¼Œæˆ–é‡ç½®ç¶²è·¯è¨­å®šã€‚
9. é‡æ–°å•Ÿå‹• macOS

å¦‚æœä»¥ä¸Šæ–¹æ³•éƒ½å˜—è©¦éäº†ï¼Œé‚„å¯ä»¥å˜—è©¦ é‡æ–°å•Ÿå‹• macOSï¼Œç„¶å¾Œæ‰“é–‹ Docker Desktop æª¢æŸ¥æ˜¯å¦æ¢å¾©æ­£å¸¸ã€‚

10. æœ€å¾Œçš„æ’é™¤éŒ¯èª¤æ­¥é©Ÿ

å¦‚æœä»ç„¶ç„¡æ³•è§£æ±ºï¼Œè«‹åŸ·è¡Œä»¥ä¸‹å‘½ä»¤ä¾†ç²å–è©³ç´°çš„ Docker å•é¡Œæ—¥èªŒï¼š

docker logs <container_id>
log show --predicate 'process == "com.docker.backend"' --last 1h
é€™æ¨£å¯ä»¥æŸ¥çœ‹æœ€è¿‘ 1 å°æ™‚å…§ Docker çš„éŒ¯èª¤è¨˜éŒ„ï¼Œç„¶å¾Œæ ¹æ“šéŒ¯èª¤è¨Šæ¯é€²ä¸€æ­¥è¨ºæ–·å•é¡Œã€‚

çµè«–
å¦‚æœ docker build -t flask-book-app . ç„¡æ³•åŸ·è¡Œï¼Œä¸¦é¡¯ç¤º Cannot connect to the Docker daemonï¼š

ç¢ºä¿ Docker Desktop å·²å•Ÿå‹•ï¼ˆGUI æˆ– open /Applications/Docker.appï¼‰ã€‚
é‡æ–°å•Ÿå‹• Dockerï¼ˆosascript -e 'quit app "Docker"' && open /Applications/Docker.app'ï¼‰ã€‚
æª¢æŸ¥ macOS æ¬Šé™èˆ‡ç¶²çµ¡è¨­ç½®ã€‚
å˜—è©¦å®Œå…¨ç§»é™¤ Docker ä¸¦é‡æ–°å®‰è£ã€‚
æŒ‰ç…§é€™äº›æ­¥é©Ÿï¼Œæ‡‰è©²å¯ä»¥è®“ Docker æ­£å¸¸é‹è¡Œï¼ğŸš€



